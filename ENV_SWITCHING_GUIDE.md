# Environment Switching Guide

This project supports quick switching between **localhost** (local development) and **production** (web-based on Render).

## Quick Switch Methods

### Method 1: Using npm Scripts (Recommended)

#### Switch to Localhost + Run Full Stack
```bash
npm run dev:local
```
This will:
- Switch to `.env.local` configuration
- Start both backend (localhost:5000) and frontend (localhost:5173)
- Frontend connects to local backend

#### Switch to Production + Run Frontend Only
```bash
npm run dev:prod
```
This will:
- Switch to `.env.production` configuration  
- Start only frontend (localhost:5173)
- Frontend connects to Render backend

#### Just Switch Environment (No Server Start)
```bash
npm run env:local     # Switch to localhost
npm run env:prod      # Switch to production
```

### Method 2: Using Scripts Directly

#### PowerShell
```powershell
.\switch-env.ps1 local       # Switch to localhost
.\switch-env.ps1 production  # Switch to production
```

#### Command Prompt / Batch
```cmd
switch-env.bat local         # Switch to localhost
switch-env.bat production    # Switch to production
```

## Configuration Files

- **`.env.local`** - Localhost configuration
  - Frontend: `http://localhost:5000/api`
  - Backend runs on port 5000
  
- **`.env.production`** - Production configuration
  - Frontend: `https://rideshareproject-vyu1.onrender.com/api`
  - Backend is on Render

- **`.env`** - Active configuration (auto-generated, don't edit manually)

## Current Environment

To check which environment is active:
```powershell
Get-Content .env | Select-String "VITE_API_URL"
```

## Typical Development Workflows

### Testing Locally (Full Stack)
```bash
npm run dev:local
```
- Tests both frontend and backend changes
- Faster iteration, no network latency
- Good for feature development

### Testing with Production Backend
```bash
npm run dev:prod
```
- Tests frontend against deployed backend
- Good for integration testing
- Validates production API compatibility

### Before Deployment
```bash
npm run env:prod
npm run build
```
- Ensures production build uses correct API URL

## Important Notes

1. **Always commit** `.env.local` and `.env.production` to git
2. **Never commit** `.env` (it's in .gitignore)
3. `.env` is auto-generated by switching scripts
4. Restart dev server after switching environments for changes to take effect
